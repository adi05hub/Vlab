CREATE TABLE STUDENT(
USN VARCHAR2(20),
SNAME VARCHAR2(10),
ADDRESS VARCHAR2(10),
PHONE NUMBER(10),
GENDER VARCHAR2(10),
PRIMARY KEY(USN));

CREATE TABLE SEMSEC(
SSID NUMBER(5),
SEM NUMBER(2),
SECTION VARCHAR2(1),
PRIMARY KEY(SSID));

CREATE TABLE CLASS(
SSID NUMBER(5),
USN VARCHAR2(20),
PRIMARY KEY(SSID,USN),
FOREIGN KEY(SSID) REFERENCES SEMSEC(SSID),
FOREIGN KEY(USN) REFERENCES STUDENT(USN));

CREATE TABLE COURSE(
SUBCODE VARCHAR2(7) PRIMARY KEY,
TITLE VARCHAR2(20),
SEM NUMBER(4),
CREDITS NUMBER(2));


CREATE TABLE IAMARKS(
USN VARCHAR2(20),
SUBCODE VARCHAR2(7),
SSID NUMBER(5),
TEST1 NUMBER(3),
TEST2 NUMBER(3),
TEST3 NUMBER(3),
FINALIA NUMBER(3),
PRIMARY KEY(USN,SUBCODE,SSID),
FOREIGN KEY(USN) REFERENCES STUDENT(USN),
FOREIGN KEY(SUBCODE) REFERENCES COURSE(SUBCODE),
FOREIGN KEY(SSID) REFERENCES SEMSEC(SSID));


INSERT INTO STUDENT
VALUES('&USN','&SNAME','&ADDRESS','&PHONE','&GENDER')


INSERT INTO STUDENT VALUES('4SF20CS089',' AJAY
','MANGALORE','7338258875','MALE')



INSERT INTO SEMSEC VALUES('&SSID','&SEM','&SECTION')

INSERT INTO SEMSEC VALUES('1','4 ','A')


INSERT INTO CLASS VALUES('&SSID','&USN')

INSERT INTO CLASS VALUES('1','4SF20CD001')



INSERT INTO COURSE VALUES('&SUBCODE','&TITLE','&SEM','&CREDITS')

INSERT INTO COURSE VALUES('20CS31 ','DATA STRUCTURE ','4','4')



INSERT INTO IAMARKS VALUES
('&USN','&SUBCODE','&SSID','&TEST1','&TEST2','&TEST3','&FINALIA');

INSERT INTO IAMARKS VALUES('4SF20CD001','20CS31 ',1,38,35,32,0);







SELECT A.*,B.SEM,B.SECTION FROM STUDENT A,SEMSEC B,CLASS C
WHERE A.USN=C.USN AND B.SSID=C.SSID AND B.SEM=4 AND B.SECTION='C';






SQL> SELECT SEM,SECTION,GENDER,COUNT(*) FROM STUDENT S, SEMSEC
S1,CLASS C WHERE S.USN=C.USN AND S1.SSID=C.SSID GROUP BY
(GENDER,SEM,SECTION) ORDER BY(SEM);






CREATE VIEW TEST_MARKS
AS SELECT SUBCODE ,TEST1 FROM IAMARKS
WHERE USN='4SF20CD001';






SQL> UPDATE IAMARKS SET
FINALIA=(TEST1+TEST2+ TEST3)/3;






SQL> SELECT USN,FINALIA,
CASE
WHEN FINALIA BETWEEN 45 AND 50 THEN 'OUTSTANDING'
WHEN FINALIA BETWEEN 40 AND 45 THEN 'GOOD'
WHEN FINALIA BETWEEN 30 AND 40 THEN 'AVERAGE'
WHEN FINALIA <30 THEN 'WEAK'
END
AS CATEGORY FROM IAMARKS I,
SEMSEC S WHERE I.SSID=S.SSID
AND SEM=8 AND SECTION IN('A','B','C');







